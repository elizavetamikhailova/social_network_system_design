# System Design социальной сети для путешественников для курса по System Design https://balun.courses
## ФТ:
- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;
- просмотр ленты других путешественников и ленты пользователя, основанной на подписках в обратном хронологическом порядке;
## НФТ:
- DAU 10 000 000 в первый год, рост линейный (после года тоже ожидается рост)
- Avg requests per day: создание постов - 3/день, реакции (комментарий + оценка) - 10/день, подписка - 1-3 новые подписки/день, поиск - 7 поисков/день, просмотр полной информации в посте - 21 пост/день
- Аудитория приложения - страны СНГ (планов выходить на зарубежный рынок пока нет)
- Сезонность: в сезоны отпусков люди будут создавать больше постов, а в преддверии сезона отпусков и сразу после чаще заходить на платформу
- Хранение данных: всегда
- Лимиты и ограничения: 100 постов в день, в каждом посте не более 5 фото. В комментариях не более 1000 символов
- Временные ограничения: загрузка поста - не более 5 сек, поиск - не более 3 сек, реакции и подписка - 1 сек, загрузка полной информации о посте - 2 сек
- Доступность 99,99%
## Рассчет нагрузки:
### Создание постов
> Post
> 
>> - id 8 byte
>> - user_id 8 byte
>> - photo_urls (~200 byte на ссылку, 5 * 200) 1000 byte 
>> - description 1000 byte
>> - latitude 8 byte
>> - longtitude 8 byte
- RPS = dau * avg_requests_per_day_by_user / 86 400 = 10 000 000 * 3 / 86 400 = 347
- Traffic = rps * avg_request_size = 347 * (2 kb + 5 * 3000 kb(фото из поста)) = 15 002 = 15 mb
- Connections = dau * 0.1 = 1 000 000
### Реакции
> Reaction
>
>> - id 8 byte
>> - post_id 8 byte
>> - user_id 8 byte
>> - rate 8 byte
>> - comment 1000 byte
- RPS = 10 000 000 * 10 / 86 400 = 1157
- Traffic = 1157 * 1 kb = 1 mb
- Connections = dau * 0.1 = 1 000 000
### Подписки
> Subscription
>
>> id 8 byte
>> user_id 8 byte
>> subscription_to_id 8 byte
- RPS = 10 000 000 * 3 / 86 400 = 347
- Traffic = 347 * 24 = 8 kb
- Connections = dau * 0.1 = 1 000 000
### Поиск
### Просмотр информации в посте
